!function(){var e=[,function(e){e.exports={defaultAssets_moduleUsed:{name:"module-used",class:"view",namespace:"default-assets",properties:{accountId:{type:"number",isOptional:!0},contentId:{type:"string",isOptional:!0},language:{type:"string",isOptional:!0},path:{type:"string"},version:{type:"string",isOptional:!0}}},defaultAssets_impression:{name:"impression",class:"view",properties:{fileSource:{type:"string",isOptional:!0},duration:{type:"number",isOptional:!0},title:{type:"string",isOptional:!0},accountId:{type:"number",isOptional:!0},contentId:{type:"string",isOptional:!0},language:{type:"string",isOptional:!0},path:{type:"string"},version:{type:"string",isOptional:!0}},namespace:"default-assets"},defaultAssets_moduleInteraction:{name:"module-interaction",class:"interaction",properties:{action:{type:"string",isOptional:!0},fileSource:{type:"string",isOptional:!0},duration:{type:"number",isOptional:!0},title:{type:"string",isOptional:!0},accountId:{type:"number",isOptional:!0},contentId:{type:"string",isOptional:!0},language:{type:"string",isOptional:!0},path:{type:"string"},version:{type:"string",isOptional:!0}},namespace:"default-assets"},developerDocs_pageView:{name:"pageview",class:"view",properties:{screen:"string",subscreen:{type:"string",isOptional:!0}},namespace:"developer-docs"},helpCenter_pageView:{name:"pageview",class:"view",properties:{screen:"string"},namespace:"help-center"},helpCenter_pageInteraction:{name:"page interaction",class:"interaction",properties:{screen:"string",action:["resource category click","search filter added"],category:{type:"string",isOptional:!0},filter:{type:"string",isOptional:!0}},namespace:"help-center"},knowledgeBase_pageView:{name:"pageview",class:"view",properties:{screen:"string"},namespace:"knowledge-base"},knowledgeBase_pageInteraction:{name:"page interaction",class:"interaction",properties:{screen:"string",action:["breadcrumb nav item click","sidebar nav item click","resource category click","search filter added","related content item click","table of contents click","top nav item click"],category:{type:"string",isOptional:!0},filter:{type:"string",isOptional:!0},url:{type:"string",isOptional:!0}},namespace:"knowledge-base"},hubSpotDotCom_pageView:{name:"pageview",class:"view",namespace:"hubspot-dot-com",properties:{screen:{type:"string",isOptional:!0}}},hubSpotDotCom_interaction:{name:"interaction",class:"interaction",properties:{action:{type:"string",isOptional:!0},type:{type:"string",isOptional:!0},id:{type:"string",isOptional:!0},classNames:{type:"array",isOptional:!0},tabIndex:{type:"number",isOptional:!0},name:{type:"string",isOptional:!0},href:{type:"string",isOptional:!0},role:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},text:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"hubspot-dot-com"},hubSpotDotCom_formInputInteraction:{name:"form input interaction",class:"interaction",properties:{type:{type:"string",isOptional:!0},id:{type:"string",isOptional:!0},classNames:{type:"array",isOptional:!0},tabIndex:{type:"number",isOptional:!0},valueLabel:{type:"string",isOptional:!0},name:{type:"string",isOptional:!0},role:{type:"string",isOptional:!0},placeholder:{type:"string",isOptional:!0},label:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"hubspot-dot-com"},hubSpotDotCom_formInteraction:{name:"form interaction",class:"interaction",properties:{type:{type:"string",isOptional:!0},id:{type:"string",isOptional:!0},classNames:{type:"array",isOptional:!0},tabIndex:{type:"number",isOptional:!0},name:{type:"string",isOptional:!0},action:{type:"string",isOptional:!0},role:{type:"string",isOptional:!0},dataTypes:{type:"array",isOptional:!0},successful:{type:"boolean",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"hubspot-dot-com"},hubSpotDotCom_sectionView:{name:"section view",class:"view",properties:{section:{type:"string"},classNames:{type:"array",isOptional:!0},value:{type:"string",isOptional:!0},screen:{type:"string",isOptional:!0}},namespace:"hubspot-dot-com"}}}],t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};e[r](a,a.exports,n);return a.exports}!function(){"use strict";function e(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}const t=["api","local","app","private","platform","tools","meetings"],r=["hubspotstarter","hubspotfree"],o=["growth"],a=["hubspot"],i={com:["hubspot","hubteam","grader","getsignals","getsidekick","gettally","hubspotemail","customer-hub","hubspotservicehub","hubspotquote"].join("|"),net:r.join("|"),org:o.join("|"),dev:a.join("|")},s=function e(n){const r=new RegExp(`^(?!local|test|selenium)(.*\\.)?(${Object.entries(i).map((([e,t])=>`(?:${t})(qa)?\\.${e}`)).join("|")}|(?:connect)\\.com|(?:connect)(qa)\\.co|wthubspot\\.(com|de|es|fr|jp))$`).test(n.hostname),o=new RegExp(`${Object.entries(i).map((([e,t])=>`(?:${t})qa\\.${e}`)).join("|")}|(?:connect)qa\\.co|wthubspot\\.(com|de|es|fr|jp)`),a=new RegExp(`^(?:${t.join("|")})-(.*).(?:hubspot|hubteam)(?:qa)?.com`),s=new RegExp("^(.*).(?:hubspotquote)(?:qa)?.com"),c="ENV",l="Enviro error: the default argument for .get and .getShort is no longer supported",p=e=>{let t=window[e];if(null==t)try{t=window.sessionStorage.getItem(e)}catch(e){}if(null==t)try{t=window.localStorage.getItem(e)}catch(e){}return t},u=()=>{const e=p(c);return e||(o.test(n.host)?"qa":"prod")},d=(e,t)=>{window[e]=t;return t},g={prod:"production",qa:"development"},m=e=>{if("string"==typeof e){const t=e.toLowerCase();return g[t]||t}return e},h=e=>{e="string"==typeof e?e.toLowerCase():void 0;return Object.keys(g).find((t=>e===g[t]))||e},f=(e,t)=>{if(null!=t)throw new Error(l);let n=null;if(e){const t=e.split(".").reverse();for(let e=0;e<t.length;e++){const r=t[e];n=p(`${r.toUpperCase()}_ENV`);if(n)break}}if(null==n){const e=u();n=null!=e?e:"qa"}return m(n)},y=function(e,t){if(1===arguments.length){t=e;e=c}return d(e,t)},b=(e,t)=>{if(null!=t)throw new Error(l);return h(f(e))},v=b,w=e=>"prod"===v(e),O=e=>"qa"===v(e);return{createEnviro:e,debug:(e,t=!1)=>{let n;"string"==typeof e&&(n=p(`${e.toUpperCase()}_DEBUG`));null==n&&(n=p("DEBUG"));return null==n?t:n},denormalize:h,deployed:e=>{let t;"string"==typeof e&&(t=p(`${e.toUpperCase()}_DEPLOYED`));null==t&&(t=p("DEPLOYED"));return null==t?r:!!t},enabled:(e,t=!1)=>{let n=p(`${e.toUpperCase()}_ENABLED`);null==n&&(n=JSON.stringify(t));return"true"===`${n}`.toLowerCase()},get:f,getHublet:()=>{const e=p("HUBLET");return e||(a.test(n.hostname)?a.exec(n.hostname)[1]:s.test(n.hostname)?s.exec(n.hostname)[1]:"na1")},getInternal:b,getShort:v,isProd:w,isQa:O,normalize:m,set:y,setDebug:(e,t=!0)=>{if("string"==typeof e)try{t?localStorage.setItem(`${e.toUpperCase()}_DEBUG`,JSON.stringify(!0)):localStorage.removeItem(`${e.toUpperCase()}_DEBUG`)}catch(n){d(`${e.toUpperCase()}_DEBUG`,t||void 0)}else{t=null==e||e;try{t?localStorage.setItem("DEBUG",JSON.stringify(t)):localStorage.removeItem("DEBUG")}catch(e){d("DEBUG",t||void 0)}}}}};var c=s(document.location);const l=["email","userId","hubId","hstc","utk","portalId","deviceId","device_id","last_timestamp_checked_against_session"],p=["what_event_subtype","what_value","what_value_str","where_subscreen2"],u=["userId","hubId","hstc","utk","email","lang","deviceId","namespace","[Amplitude] Session Replay ID",...p],d=["function","object","null","undefined"],g=/(br\.hubpost\.com|wthubspot\.com|connect\.com|hubspot\.(com|es|de|jp))$/,m=e=>{e();return 0},h="undefined"!=typeof self?self:globalThis,f=(e,t)=>"function"==typeof setTimeout?setTimeout(e,t):m(e),y=(e,t=(()=>{}))=>"function"==typeof e?e:t,b=Object.keys,v=e=>Boolean(e)&&"object"==typeof e&&"function"==typeof e.then||e instanceof Promise,w=e=>t=>b(e).reduce(t,{}),O=(e="",t="",n="")=>{const r=e.indexOf(t),o=e.indexOf(n);return e.substr(r+t.length,o-r-n.length)},k=(e,t)=>{let n,r=0;return(...o)=>{r&&clearTimeout(r);r=f((()=>{r=0;n=e.apply(null,o)}),t);return n}},E=(e={},t={})=>{const n=w(t)(((n,r)=>{void 0===e[r]&&void 0!==t[r]&&(n[r]=t[r]);return n}));return Object.assign({},e,n)},I=e=>"isArray"in Array?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e),_=e=>{let t=typeof e;I(e)&&(t="array");return null===e?"null":t},S=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{let t;const n=16*Math.random()|0;t="x"===e?n:3&n|8;return t.toString(16)})),j=(e={},t)=>w(e)(((n,r)=>{n[r]=t(r,e[r]);return n})),x=(e={},t=[])=>w(e||{})(((n,r)=>{t.includes(r)||(n[r]=e[r]);return n})),T=(e={},t=[])=>Object.assign({},...t.map((t=>({[t]:e[t]})))),$=e=>{let t,n;return(...r)=>{if(!t){t=!0;n=e(...r)}return n}},P=(e,t)=>b(t).reduce(((n,r)=>{const o=t[r];n[r]=o[e];return n}),{}),N=(e="",t="")=>{0===(e=e.replace(/^\s+|\s+$/g,"")).indexOf(t)&&(e=e.substr(t.length));e.indexOf(t)===e.length-t.length&&(e=e.substr(0,e.indexOf(t)));return e},D=(e={})=>w(e)(((t,n)=>{t[n]=e[n];return t})),U=(e="",t=256)=>{let n=e;if(n.length>t){n=n.substr(0,t);n=`${n}[..]`}return n},H=()=>{const e=[];return{enqueue:t=>e.unshift(t),dequeue:()=>e.shift(),peek:()=>e[0]}},L=(e=[],t,n=h)=>{let r=n;e.forEach((e=>{r=r&&e in r?r[e]:void 0}));return void 0===r?t:r},C=(e="")=>e.toString().replace(/(?:^|\.?)([A-Z]+)/g,((e,t)=>`_${t.toLowerCase()}`)).replace(/^_/,"").replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())).replace(/-/g," ").replace(/_/g," ").replace(/\s{2}/g," "),W=(e="")=>e.replace(/[_|-]/g," ").replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>e[0===t?"toLowerCase":"toUpperCase"]())).replace(/\s+/g,""),A=e=>{if(e&&"object"==typeof e&&!Object.isFrozen(e)){Object.freeze(e);Object.getOwnPropertyNames(e).forEach((t=>A(e[t])))}return e},R=e=>t=>(n,r)=>{const o={fingerprint:["usage-tracker-js"],tags:e};return y(t)(n,Object.assign({},o,r))},q=(e,t="**********")=>e.reduce(((e,n)=>Object.assign({},e,{[n]:t})),{}),B=(e={})=>{const t=Object.entries(T(e,l)).filter((([,e])=>Boolean(e))).map((([e])=>e)),n=Object.entries(e).map((([e,t])=>[e,"function"==typeof t?"Function":t])).map((([e,t])=>[e,void 0===t?null:t]));return Object.assign({},Object.fromEntries(n),q(t))},V=e=>{new Promise((t=>t(e()))).catch((e=>{throw new Error(e)}))},J=e=>e>1280?"xlarge (> 1280)":e>=1024?"large (1024 - 1280)":e>=680?"medium (680 - 1024)":e>0?"small (< 680)":"unknown",M=53,K="USAGE_TRACKER_JS",z="__hstc",G="hubspotutk",F="__hmpl",Q="__hsUserToken",Y="USAGE_TRACKER_JS_RECORDER_ENABLED",X="USAGE_TRACKER_JS_RECORDED_EVENTS",Z="USAGE_TRACKER_JS_RECORDED_EVENT_KEYS",ee="HUBLYTICS_EVENTS_53",te=e=>{const t=e=>"object"==typeof e.Raven&&"function"==typeof e.Raven.captureException&&"function"==typeof e.Raven.captureMessage;if("undefined"==typeof window||void 0===e){let e=0,n=!1;return{hasRaven:t,addEventListener:()=>!1,dispatchWindowEvent:()=>!1,isDocumentVisible:()=>!1,isDocumentReady:()=>{if(n||e)return n;e=f((()=>{n=!0}),5e3);return n},isLocalDeployment:!1,isQaDeployment:!1,isProdDeployment:!0,isDebugEnabled:!1,isHubSpotDomain:!1,hasLocalStorage:!1,hasCookieAccess:!1,hasBeaconSupport:!1}}const n=()=>{try{return Boolean(e.localStorage)}catch(e){return!1}},r=()=>{const{navigator:t,document:n}=e;try{return"object"==typeof t&&t.cookieEnabled||"object"==typeof n&&Boolean(n.cookie)}catch(e){return!1}},o=()=>{const{navigator:t}=e;try{return"object"==typeof t&&"function"==typeof t.sendBeacon}catch(e){return!1}},a=()=>{const{document:t}=e;try{return"object"==typeof t&&"string"==typeof t.visibilityState&&"visible"===t.visibilityState}catch(e){return!1}},i=()=>{const{location:t}=e;return"object"==typeof t&&"string"==typeof t.hostname&&g.test(t.hostname)};return{hasRaven:t,isDocumentReady:()=>{const{document:t}=e;try{return"object"==typeof t&&"string"==typeof t.readyState&&"complete"===t.readyState}catch(e){return!1}},addEventListener:(t,n)=>{const{document:r,addEventListener:o}=e;return"object"==typeof r&&"function"==typeof o&&o(t,n)},dispatchWindowEvent:(t,n)=>{const{document:r,CustomEvent:o}=e;if("object"==typeof r&&"function"==typeof o){const r=new o(t,{detail:n});return e.dispatchEvent(r)}return!1},isLocalDeployment:!c.deployed(),isQaDeployment:c.isQa(),isProdDeployment:c.isProd(),isDebugEnabled:Boolean(c.debug(K)),isHubSpotDomain:i(),hasLocalStorage:n(),hasCookieAccess:r(),hasBeaconSupport:o(),isDocumentVisible:a}},{hasRaven:ne,isDocumentReady:re,addEventListener:oe,dispatchWindowEvent:ae,hasLocalStorage:ie,hasCookieAccess:se,hasBeaconSupport:ce,isLocalDeployment:le,isQaDeployment:pe,isProdDeployment:ue,isDebugEnabled:de,isDocumentVisible:ge,isHubSpotDomain:me}=te(void 0!==h?h:void 0);const he="na1",fe={APP:"app",APP_API:"app-api"};function ye(e){const t=e&&e.hubletOverride?e.hubletOverride:c.getHublet();return t===he?"":`-${t}`}function be(e,t){if(t&&t.hubletPostfixLocation&&"domain"===t.hubletPostfixLocation)return e;e===fe.APP_API&&(e=fe.APP);return`${e}${ye(t)}`}function ve(e){return`${Oe(e)}${we(e)}${ke(e)}`}function we(e){return"qa"===(e&&e.envOverride?e.envOverride:c.getShort())?"qa":""}function Oe(e){return e&&e.domainOverride?e.domainOverride:"hubspot"}function ke(e){return e&&e.hubletPostfixLocation&&"domain"===e.hubletPostfixLocation?ye(e):""}function Ee(e){return e&&e.tldOverride?e.tldOverride:"com"}function Ie(e){return e===fe.APP_API?"/api":""}function _e(e,t){return`https://${be(e,t)}.${ve(t)}.${Ee(t)}${Ie(e)}`}const Se=18e5,je=[{name:"windows 10",pattern:/(Windows 10.0|Windows NT 10.0)/},{name:"windows 8",pattern:/(Windows 8|Windows8.1|Windows NT 6.2|Windows NT 6.3)/},{name:"windows 7",pattern:/(Windows 7|Windows NT 6.1)/},{name:"windows vista",pattern:/Windows NT 6.0/},{name:"windows xp",pattern:/(Windows NT 5.1|Windows XP)/},{name:"android",pattern:/Android/},{name:"linux",pattern:/(Linux|X11)/},{name:"ios",pattern:/(iPhone|iPad|iPod)/},{name:"mac",pattern:/Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh/}],xe=e=>({device_id:S(),last_event_id:0,last_sequence_number:0,last_timestamp_checked_against_session:e,session_id:e}),Te=e=>{const t=e(F);if(t)try{return JSON.parse(t)}catch(e){}return null},$e=(e,t)=>e(F,JSON.stringify(t)),Pe=(e,{currentTime:t,deviceId:n})=>{const{device_id:r,last_event_id:o=0,last_sequence_number:a=0,last_timestamp_checked_against_session:i=t,session_id:s=t}=e,c={device_id:r,last_event_id:o,last_sequence_number:a,last_timestamp_checked_against_session:i,session_id:s};if(n&&n!==r){const e=xe(t);e.device_id=n;return e}if(t-i>Se){c.last_event_id=0;c.session_id=t}c.last_event_id=o+1;c.last_sequence_number=a+1;c.last_timestamp_checked_against_session=t;return c},Ne=(e,t,{currentTime:n,deviceId:r})=>{const o=Te(e)||xe(n),a=Pe(o,{currentTime:n,deviceId:r});V((()=>$e(t,a)));return a},De=e=>{const t=je.find((({pattern:t})=>t.test(e)));return t?t.name:"unknown"},Ue=({deviceId:e,getCurrentHref:t,getNetworkType:n,getNetworkSpeed:r,getTempStorage:o,setTempStorage:a})=>{const i=Date.now(),s=Ne(o,a,{currentTime:i,deviceId:e}),c=Object.assign({},s,{timestamp:i,currentPageUrl:"",networkType:"",networkSpeed:""});c.currentPageUrl=U(t(),256);c.networkType=n();c.networkSpeed=r();return c},He=({clientName:e,getReferrer:t,getUserAgent:n,getScreenWidth:r,getScreenHeight:o,getWindowWidth:a,getWindowHeight:i,getDeployableName:s,getDeployableVersion:c})=>{const l={windowWidth:-1,windowHeight:-1,screenWidth:-1,screenHeight:-1,screenSize:"",lastPageUrl:"",howOsDetailed:"",singlePageAppSessionId:Date.now(),trackingClient:e||"custom",deployableName:"",deployableVersion:""};l.windowWidth=a();l.windowHeight=i();l.deployableName=s();l.deployableVersion=c();l.howOsDetailed=De(O(n(),"(",")"));l.screenWidth=r();l.screenHeight=o();l.screenSize=J(r());l.lastPageUrl=U(t(),256);return l},Le=(e,t)=>{const n=Object.assign({},t,e),r=b(n).filter((e=>!n[e]));return x(n,r)},Ce=(e,t,n)=>{const r=new Error(t);r.name=e;r.stack=`${e}: ${t}`;r.cause=n;return r},We=e=>{if(e&&e.name&&e.stack&&"object"==typeof e.cause){const t=e.cause;return Boolean(t&&t.type&&t.dangerLevel)}return!1},Ae=(e,t)=>We(e)?"object"==typeof t&&"object"==typeof t.extra?Object.assign({},t,{extra:Object.assign({},t.extra,e.cause)}):Object.assign({},t,{extra:Object.assign({},e.cause)}):t,Re=e=>Ce("UsageTrackerGenericWarning",e,{type:"generic warning",dangerLevel:"This error does not break tracking or the execution thread."}),qe=e=>Ce("UsageTrackerError",e,{type:"generic error",dangerLevel:"This error breaks the execution thread."}),Be=e=>Ce("UsageTrackerConfigError",e,{type:"config error",dangerLevel:"This error breaks the execution thread."}),Ve=e=>Ce("UsageTrackerEventError",e,{type:"event error",dangerLevel:"This error breaks tracking, but not the execution thread."}),Je=(e,t,n,r=!0)=>{const o=D(n),a=()=>b(o),i=(n,r,i)=>{a().forEach((a=>{const{types:s,oneOf:c,isOptional:l}=o[a],p=n[a],u=void 0!==p,d=_(p);if(!l&&!u)throw t(`Missing required ${e} "${a}". ${r} requires that a value be passed for ${e} "${a}". Received "undefined".`);if(u){if(I(s)&&!s.includes(d))throw t(`Invalid ${e}. ${r} requires that the "${a}" ${e} type be one of ["${s.join('", "')}"]. Received "${d}".`);if("function"!==d){if(I(c)&&!c.includes(String(p)))throw t(`Invalid ${e}. ${r} requires that the "${a}" ${e} be one of ["${c.join('", "')}"]. Received "${p}".`);y(i)({key:a,entry:p,isOptional:l})}}}));return!0},s=(e,t)=>{b(e).forEach((n=>{const r=e[n];i(r,t)}))},c=e=>{const t=P("default",o),n=E(e,t);return r?T(n,a()):n},l=e=>w(e)(((t,n)=>{const r=e[n];t[n]=c(r);return t}));return{getKeys:a,mutate:n=>{const a=n(j(o,(e=>D(o[e]))));return Je(e,t,a,r)},normalize:c,normalizeEach:l,validate:i,validateEach:s,_peek:()=>A(o)}},Me=Je("client dependency",Be,{clientName:{types:["string"],default:"custom"},getDebug:{types:["function"]},getEmail:{types:["function"]},getHubId:{types:["function"]},getHstc:{types:["function"]},getLang:{types:["function"]},getCurrentHref:{types:["function"],isOptional:!0,default:()=>L(["window","location","href"],"")},getReferrer:{types:["function"],isOptional:!0,default:()=>L(["document","referrer"],"")},getUserAgent:{types:["function"],isOptional:!0,default:()=>L(["navigator","userAgent"],"")},getNetworkType:{types:["function"],isOptional:!0,default:()=>L(["navigator","connection","effectiveType"],"")},getNetworkSpeed:{types:["function"],isOptional:!0,default:()=>L(["navigator","connection","downlink"],"")},getScreenWidth:{types:["function"],isOptional:!0,default:()=>L(["screen","width"],"")},getScreenHeight:{types:["function"],isOptional:!0,default:()=>L(["screen","height"],"")},getWindowWidth:{types:["function"],isOptional:!0,default:()=>L(["window","innerWidth"],"")},getWindowHeight:{types:["function"],isOptional:!0,default:()=>L(["window","innerHeight"],"")},getDeployableName:{types:["function"],isOptional:!0,default:()=>L(["window","hubspot","bender","currentProject"],"")},getDeployableVersion:{types:["function"],isOptional:!0,default:()=>L(["window","hubspot","bender","currentProjectVersion"],"")},logMessage:{types:["function"],isOptional:!0,default:(...e)=>L(["console","debug"],((...e)=>e))(...e)},logWarning:{types:["function"],isOptional:!0,default:(...e)=>L(["console","warn"],((...e)=>e))(...e)},logError:{types:["function"],default:(...e)=>L(["console","error"],((...e)=>e))(...e)},reportError:{types:["function"],isOptional:!0,default:()=>{}},reportWarning:{types:["function"],isOptional:!0,default:()=>{}},getTempStorage:{types:["function"]},setTempStorage:{types:["function"]},send:{types:["function"]}}),Ke=Je("config option",Be,{trackerName:{types:["string"],isOptional:!0,default:"default"},allowUnauthed:{types:["boolean"],isOptional:!0,default:!1},bypassPool:{types:["boolean"],isOptional:!0,default:!1},debug:{types:["boolean","function"],isOptional:!0},events:{types:["object"]},isBeforeUnload:{types:["boolean"],isOptional:!0,default:!1},isExternalHost:{types:["boolean"],isOptional:!0,default:!1},lastKnownEventProperties:{types:["array"],isOptional:!0,default:[]},onError:{types:["function"],isOptional:!0},onWarning:{types:["function"],isOptional:!0},onScheduled:{types:["function"],isOptional:!0,default:()=>{}},preserveTrackerProperties:{types:["boolean"],isOptional:!0,default:!0},preserveTrackerEvents:{types:["boolean"],isOptional:!0,default:!1},properties:{types:["object"],isOptional:!0,default:{}},standalone:{types:["boolean"],isOptional:!0,default:!1}}),ze=Je("tracker properties",Be,{email:{types:["string","function","object","null"]},hubId:{types:["number","function","object","null"]},hstc:{types:["string","function","object","null"]},lang:{types:["string","function","object","null"]},deviceId:{types:["string","function","object","null"],isOptional:!0,default:void 0}},!1),Ge=["activation","creation","error","exposure","funnel","interaction","none","signup","usage","view","warning"],Fe=Je("event property",Be,{name:{types:["string"]},namespace:{types:["string"],isOptional:!0,default:""},class:{types:["string"],oneOf:[...Ge]},version:{types:["string"],isOptional:!0,default:"v1"},properties:{types:["object"],isOptional:!0,default:{}},meta:{types:["object"],isOptional:!0}}),Qe=["boolean","string","number","array"],Ye=Je("event property",Be,{type:{types:["string","array"],oneOf:[...Qe]},isOptional:{types:["boolean"],isOptional:!0,default:!1},description:{types:["string"],isOptional:!0,default:""}}),Xe=({getTempStorage:e,setTempStorage:t})=>{const n=H();return{peek:n.peek,push:r=>{n.enqueue(r);V((()=>{try{const n=e(ee)||"[]",o=JSON.parse(n);t(ee,JSON.stringify(o.concat(r)))}catch(e){t(ee,JSON.stringify([r]))}}))},flush:()=>{const e=[];do{const t=n.dequeue();t&&e.unshift(t)}while(n.peek());V((()=>t(ee,"[]")));return e}}},Ze=(e,t=2e3,n=3)=>{let r=0,o=0,a=e();const i=e=>e(),s=s=>{r||(r=setInterval((()=>{const t=o>=n;a=e()||t;if(a){clearInterval(r);i(s);r=0;o=0}else o+=1}),t))},c=k(i,t);return{scheduleFlush:e=>a?c(e):s(e)}},et=e=>j(e,(t=>{const n=e[t];n.properties=j(n.properties,((e,t)=>"string"==typeof t||I(t)?{type:t,isOptional:!1}:t));n.properties=Ye.normalizeEach(n.properties);return n})),tt=e=>{const t=Object.freeze(e),n=e=>{const n=t[e];if(!n||"object"!=typeof n)throw Ve(`Invalid event key. The event definition for "${e}" is undefined. Check your events.yaml dictionary.`);return n},r=(e,t={})=>{const r=n(e).properties||{},o=t||{},a=[...Qe,"null"],i=j(r,(e=>{const{type:t,isOptional:n}=r[e];if(n)return{types:a,isOptional:!0};if("string"==typeof t){if(Qe.includes(t))return{types:[t],isOptional:!1};if(t.includes("oneOf")){return{oneOf:O(t,"[","]").split(",").map((e=>N(N(e,'"'),"'"))),isOptional:!1}}}return{oneOf:t,isOptional:n}})),s=j(o,(()=>({types:a,isOptional:!0}))),c=E(i,s);return Je("event property",Ve,c,!1)};return{getDefinition:n,createPropertySchema:r,getAll:()=>t}},nt=(e,t)=>{const n=Fe.normalizeEach(e);Fe.validateEach(n,t);return et(n)},rt=(e,t,n)=>{let r=`[usage-tracker-core "${e}"] ${t}`;n&&n.trim().length>0&&(r+=`\n----------------------------------------\n${n}\n----------------------------------------`);return r},ot=e=>(t,n,r)=>{const{where_app:o,what_event:a}=r||{},i=`eventKey: ${t}\neventType: ${`[${C(o)}] ${C(a)}`}`,s=JSON.parse(JSON.stringify(r||{}));s.what_extra_json=JSON.parse(s.what_extra_json||"{}");e(rt("debug log",n,i),s)},at=(e,t)=>(n,r)=>{e(n);y(t)(n,r)},it=(e,t)=>(n,r)=>{e(n);y(t)(n,r)},st=(e,t,n)=>r=>(o,a)=>{e(a);const i=Re(`Property "${o}" failed to resolve asynchronously and will fallback to "null".`);t(i);y(n)(a,{extra:{propertyName:o},fingerprint:["usage-tracker-js","tracker:failedResolveProperty",`event:${r}`]})},ct=["namespace","lang","screen","subscreen","timestamp","device_id","session_id","last_sequence_number","last_event_id"],lt=(e,t,n)=>{const r=t||n;if(!r||"*"===r)throw Ve(`Namespace not found for "${e}".`);return r},pt=(e,t)=>{!e.who_email&&t.raw.email&&(e.who_email=t.raw.email);!e.who_identifier&&t.raw.userId&&(e.who_identifier=t.raw.userId);e.who_identifier_v2||(e.who_identifier_v2=t.user);e.who_team_identifier||(e.who_team_identifier=t.team);e.utk||(e.utk=t.utk);return e},ut=(t,n)=>{const{namespace:r,lang:o,screen:a,subscreen:i,timestamp:s,device_id:c,session_id:u,last_sequence_number:g,last_event_id:m}=n,h=e(n,ct),f=x(h,[...l,...p]),y=w(f)(((e,t)=>{let n=f[t];const r=_(n);if(d.includes(r))return e;if("string"===r&&""===n.trim())return e;I(n)&&(n=n.filter((e=>null!=e)));e[t]=n;return e}));y.locale=o;const b={hublytics_account_id:M,where_app:lt(h.eventKey,t.namespace,r),where_screen:a||"unknown",where_subscreen:i||"",when_timestamp:s,device_id:c,session_id:u,event_id:m,sequence_number:g,language:o,what_event:t.name,what_event_class:t.class.toUpperCase(),what_version:t.version,what_extra_json:JSON.stringify(y),library_name:"usage-tracker-js",library_version:1};"string"==typeof n.subscreen2&&(b.where_subscreen2=n.subscreen2);p.forEach((e=>{const t=n[e];"string"==typeof t&&(b[e]=t)}));return b},dt=(e,t,n)=>{const r=ut(e,t);return n?pt(r,n):r},gt=({deviceId:e,utk:t,email:n,hubId:r},{allowUnauthed:o,isExternalHost:a})=>{let i,s,c;r&&(c=r);n?s=`EMAIL:::${n}:::${M}`:t?i=a?`TEMP_ID:::${t}:::${M}`:`VISITOR:::${t}:::${M}`:e&&(i=`TEMP_ID:::${e}:::${M}`);if(!s&&!o)throw Ve("Could not identify an authenticated user. Please specify an email address (email).");if(!c&&!o)throw Ve("Could not identify a HubSpot Portal ID. Please specify a Portal ID (hubId).");if(!i&&!s&&o)throw Ve("Could not identify the user. Please specify an email address (email) or an __hstc cookie (hstc) or a device id (deviceId).");return{user:s||i,team:c}},mt=e=>{let t;if("string"==typeof e&&e){const n=e.split(".");n.length>1&&(t=n[1])}return t},ht=({email:e,userId:t,hubId:n,hstc:r,deviceId:o},{allowUnauthed:a,isExternalHost:i})=>{const s=mt(r),{user:c,team:l}=gt({deviceId:o,utk:s,email:e,hubId:n},{allowUnauthed:a,isExternalHost:i});return{user:c,team:l,utk:s,raw:{email:e,userId:t,hubId:n,hstc:r,deviceId:o}}},ft=e=>{const t=R({"tracker.client":e.clientName,"tracker.name":e.trackerName}),n=ot(e.logMessage),r=at(e.logError,t(e.onError)),o=tt(e.events),a=ze.mutate((e=>({email:Object.assign({},e.email,{types:["string","null"]}),hubId:Object.assign({},e.hubId,{types:["number","null"]}),hstc:Object.assign({},e.hstc,{types:["string","null"]}),lang:Object.assign({},e.lang,{types:["string","null"]}),deviceId:Object.assign({},e.deviceId,{types:["string","null"]})}))),i="function"==typeof e.debug?e.debug():e.debug,s=(e,t)=>{try{o.createPropertySchema(e,t).mutate((e=>Object.assign({},e,a._peek()))).validate(t,`Event "${e}"`);return!0}catch(n){r(n,{extra:{eventKey:e,eventProperties:B(t)},fingerprint:["usage-tracker-js","tracker:validateProperties",`event:${e}`]});return!1}},c=e=>{try{return o.getDefinition(e)}catch(t){r(t,{extra:{eventKey:e},fingerprint:["usage-tracker-js","tracker:getDefinition",`event:${e}`]});return null}},l=(t,n)=>{const o={email:n.email,userId:n.userId,hubId:n.hubId,hstc:n.hstc,deviceId:n.deviceId},a={allowUnauthed:e.allowUnauthed,isExternalHost:e.isExternalHost};try{return ht(o,a)}catch(e){r(e,{extra:Object.assign({eventRawIdentifiers:B(o),eventProperties:B(n)},a),fingerprint:["usage-tracker-js","tracker:getIdentifiers",`event:${t}`]});return null}},p=(e,t,n,o)=>{try{return dt(t,n,o)}catch(t){r(t,{extra:{eventKey:e,eventProperties:B(n),eventIdentifiers:B(o?o.raw:void 0)},fingerprint:["usage-tracker-js","tracker:createEvent",`event:${e}`]});return null}},u=(t,n,o)=>{try{e.scheduleEvent(t,n,T(e,["bypassPool","isBeforeUnload","isExternalHost"]));V((()=>y(e.onScheduled)(t)));return!0}catch(e){r(e,{extra:{eventKey:t,eventIdentifiers:B(o.raw)},fingerprint:["usage-tracker-js","tracker:dispatchEvent",`event:${t}`]});return!1}},d=(e,t,r,o)=>{const a=E(o,r),s=l(e,a),c=Object.assign({},a,{eventKey:e}),d=p(e,t,c,s||void 0);if(s&&d){i&&n(e,"Event is being dispatched to be sent.",d);return u(e,d,s)}i&&n(e,"Event was not dispatched.",d||void 0);return!1};return{trackStandaloneEvent:(e,t,n,r)=>{const o=W(t),a=Ge.includes(r.class)&&r.class||/(pageView|View|pageview)/.test(o)?"view":"interaction";return d(`standalone:::${o}`,{name:t,namespace:e,class:a,version:"v1",properties:{},meta:{}},n,r)},trackDictionaryEvent:(e,t,n)=>{const r=c(e);if(!r)return!1;const o=n(r);return!!s(e,o)&&d(e,r,t,o)}}},yt=(e={},t,n)=>{const r={},o=b(e),a=o.length,i=o.reduce(((t,n)=>{const o=e[n];if(o&&"function"==typeof o){t.push({key:n,func:o});return t}if(o&&v(o)){t.push({key:n,promise:o});return t}r[n]=o;return t}),[]),s=()=>{Object.keys(r).length===a&&t(r)};if(i.length){const e=(e,t)=>{r[e]=t;s()},t=(e,t)=>{r[e]=null;y(n)(e,t);s()};return i.forEach((({key:n,promise:r,func:o})=>{const a=o?new Promise((e=>e(o()))):r;a&&a.then((t=>e(n,t))).catch((e=>t(n,e)))}))}return t(r)},bt=e=>{let t=Object.assign({},e.properties);const n=R({"tracker.client":e.clientName,"tracker.name":e.trackerName}),r=st(e.logError,e.logWarning,n(e.onError)),o="function"==typeof e.debug?e.debug():e.debug,a=it(e.logWarning),i=n=>{const r=e.lastKnownEventProperties;r&&r.length&&r.forEach((e=>{const r=n[e],o=_(r);Qe.includes(o)&&(t[e]=r)}))};return{resolveProperties:(e,n,o)=>{yt(t,(e=>{t=E(e,t);i(n);o(w(t)(((e,n)=>{const r=t[n],o=_(r);return Object.assign({},e,{[n]:d.includes(o)?null:r})})))}),r(e))},createPropertiesFilter:(t,n)=>r=>{const i=b(r.properties),s=e=>u.includes(e)||i.includes(e),c=Object.entries(n).filter((([e,t])=>!s(e)&&null!=t));if(c.length){a(Re(`Event "${t}" is possibly being tracked with unexpected properties. See go/unexpectedproperties`));o&&e.logMessage(rt("debug log",`Event "${t}" has unexpected Properties.`,`unexpectedProperties: ${c.map((e=>`"${e}"`)).join(", ")}`))}return n},getCache:()=>D(t),addToCache:(e,n)=>{t[e]=n}}},vt=(e,t)=>{if(!t||"object"!=typeof t)throw Be(`Invalid argument. The "createTracker" function requires to be passed a config argument of type "object". Received type "${typeof t}".`);const n=Ke.mutate((t=>Object.assign({},t,{debug:Object.assign({},t.debug,{default:e.getDebug}),onError:Object.assign({},t.onError,{default:e.reportError}),onWarning:Object.assign({},t.onWarning,{default:e.reportWarning})}))),r=ze.mutate((t=>Object.assign({},t,{email:Object.assign({},t.email,{default:e.getEmail}),hubId:Object.assign({},t.hubId,{default:e.getHubId}),hstc:Object.assign({},t.hstc,{default:e.getHstc}),lang:Object.assign({},t.lang,{default:e.getLang})}))),o=n.normalize(t);n.validate(o,'"createTracker"');const a=r.normalize(o.properties||{});r.validate(a,'"createTracker"');const i=nt(o.events,'"createTracker"');return Object.assign({events:i,properties:a},x(o,["events","properties"]),e)},wt=(e,t={})=>{const n=vt(e,t),{trackDictionaryEvent:r,trackStandaloneEvent:o}=ft(n),a=R({"tracker.client":n.clientName,"tracker.name":n.trackerName}),i=at(n.logError,a(n.onError)),s=bt(n),c="function"==typeof t.debug?t.debug():t.debug,l=(e,t,r={})=>{try{if(!e||"string"!=typeof e)throw qe(`Invalid argument. The "track" method requires the 1st argument to be of type "string". Received type "${typeof e}".`);if(!t||"string"!=typeof t)throw qe(`Invalid argument. The "track" method requires the 2nd argument to be of type "string". Received type "${typeof t}".`);if(!r||"object"!=typeof r)throw qe(`Invalid argument. The "track" method requires the 3rd argument to be of type "object". Received type "${typeof r}".`);s.resolveProperties(t,r,(a=>o(e,t,n.getMetaProperties(a),E(r,a))))}catch(n){i(n,{extra:{appName:e,eventName:t},fingerprint:["usage-tracker-js","tracker:track"]})}},p=(e,t={})=>{try{if(!e||"string"!=typeof e)throw qe(`Invalid argument. The "track" method requires the 1st argument to be of type "string". Received type "${typeof e}".`);if(!t||"object"!=typeof t)throw qe(`Invalid argument. The "track" method requires the 2nd argument to be of type "object". Received type "${typeof t}".`);t.deviceId&&s.addToCache("deviceId",t.deviceId);s.resolveProperties(e,t,(o=>r(e,n.getMetaProperties(o),s.createPropertiesFilter(e,E(t,o)))))}catch(t){i(t,{extra:{eventKey:e},fingerprint:["usage-tracker-js","tracker:track"]})}};return{clone:(t={})=>{try{if(!t||"object"!=typeof t)throw qe(`Invalid argument. The "clone" method requires to be passed a valid tracker config of type "object". Received type "${typeof t}".`);const r=x(E(t,n),b(e)),o=T(s.getCache(),ze.getKeys()),a=x(s.getCache(),b(o));r.properties=E(t.properties||{},o);r.preserveTrackerProperties&&(r.properties=E(r.properties,a));r.preserveTrackerEvents&&(r.events=E(r.events||{},n.events));return wt(e,r)}catch(e){i(e,{extra:{overrides:t},fingerprint:["usage-tracker-js","tracker:clone"]})}},getConfig:()=>{try{if(c)return Object.assign({},x(n,["properties"]),{properties:s.getCache()});throw qe("Invalid call. This method should only be used when 'debug: true'. Please do not use this in production.")}catch(e){i(e,{extra:{debug:c},fingerprint:["usage-tracker-js","tracker:getConfig"]})}},setProperties:(e={})=>{try{if(!e||"object"!=typeof e)throw qe(`Invalid argument. The "setProperties" method requires to be passed a properties argument of type "object". Received type "${typeof e}".`);b(e).forEach((t=>{s.addToCache(t,e[t])}))}catch(e){i(e,{fingerprint:["usage-tracker-js","tracker:setProperties"]})}},track:t.standalone?l:p}},Ot=(e={})=>{const t=Me.normalize(e);Me.validate(t,'"createClient"');const{clientName:n,getDebug:r,getEmail:o,getHubId:a,getHstc:i,getLang:s,getCurrentHref:c,getReferrer:l,getUserAgent:p,getNetworkType:u,getNetworkSpeed:d,getScreenWidth:g,getScreenHeight:m,getWindowWidth:h,getWindowHeight:f,getDeployableName:y,getDeployableVersion:b,getTempStorage:v,logMessage:w,logWarning:O,logError:k,reportError:E,reportWarning:_,send:S,setTempStorage:j}=t,x=Xe({getTempStorage:v,setTempStorage:j}),{scheduleFlush:T}=Ze(re),P=(e,t)=>{const{isBeforeUnload:n,isExternalHost:r}=t;let o=`clientSendTimestamp=${Date.now()}`;r&&(o+="&dil=true");S({events:e,query:o,isBeforeUnload:!!n})},N=e=>{const t=x.flush();t&&t.length&&P(t,e)},D=(e,t)=>{e.forEach((e=>x.push(e)));V((()=>T((()=>N(t)))))},U={clientName:n,getCurrentHref:c,getReferrer:l,getUserAgent:p,getNetworkType:u,getNetworkSpeed:d,getScreenWidth:g,getScreenHeight:m,getWindowWidth:h,getWindowHeight:f,getDeployableName:y,getDeployableVersion:b,getTempStorage:v,setTempStorage:j},H=$(He),L=({deviceId:e})=>{const t=H(U),n=Ue(Object.assign({deviceId:e},U));return Le(t,n)},C=(e,t)=>{try{const t=v(Z)||"[]",n=JSON.parse(t).reverse().slice(0,49).reverse();j(Z,JSON.stringify(n.concat(e)))}catch(e){j(Z,"[]")}try{const e=v(X)||"[]",n=JSON.parse(e).reverse().slice(0,49).reverse();j(X,JSON.stringify(n.concat(t)))}catch(e){j(X,"[]")}},W=e=>{try{const t=v(ee)||"[]",n=JSON.parse(t);I(n)&&n.length>0&&P(n,{isExternalHost:e.isExternalHost,isBeforeUnload:!0})}catch(e){}finally{j(ee,"[]")}},A=(e="",t,n)=>{(n.bypassPool||n.isBeforeUnload?P:D)([t],n);V((()=>ae("usageTrackerEvent",{eventKey:e,eventPayload:t})));V((()=>{"true"===v(Y)&&C(e,t)}))};return{createTracker:e=>{oe("beforeunload",(()=>N({isExternalHost:e.isExternalHost,isBeforeUnload:!0})));oe("visibilitychange",(()=>{ge()||N({isExternalHost:e.isExternalHost,isBeforeUnload:!0})}));V((()=>W(e)));return wt({clientName:n,getMetaProperties:L,getDebug:r,getEmail:o,getHubId:a,getHstc:i,getLang:s,logError:k,logMessage:w,logWarning:O,reportError:E,reportWarning:_,scheduleEvent:A},e)}}},kt=(e,t)=>{const n=`; ${t}`.split(";");if(n.length)for(let t=0;t<n.length;t++){const r=n[t].split("=");if(2===r.length&&r[0].trim()===e)return r[1]}return null},Et=e=>se?kt(e,h.document.cookie):null;var It={getItem:(e="")=>{if(ie)try{return h.sessionStorage.getItem(e)||""}catch(e){}return null},setItem:(e="",t="")=>{if(ie)try{h.sessionStorage.setItem(e,t||"")}catch(e){}return t},removeItem:(e="")=>{if(ie)try{h.sessionStorage.removeItem(e)}catch(e){}}};var _t={getItem:(e="")=>{if(ie)try{return h.localStorage.getItem(e)||""}catch(e){}return null},setItem:(e="",t="")=>{if(ie)try{h.localStorage.setItem(e,t||"")}catch(e){}return t},removeItem:(e="")=>{if(ie)try{h.localStorage.removeItem(e)}catch(e){}}};function St(){return Et(z)||null}function jt(){const e=St();return Et(G)||e&&e.split(".")[1]||null}function xt(){return Q in h?`.${String(h[Q])}`:null}function Tt(e=(jt()?_t:It)){const{device_id:t}=Ne(e.getItem,e.setItem,{currentTime:Date.now()});return t}var $t={getHstc:St,getAnonymousHstc:xt,sendBeacon:(e,t,n=(()=>{}))=>{let r=!1;if(ce)try{const n=new Blob([JSON.stringify(t)],{type:"text/plain"});r=h.navigator.sendBeacon(e,n)}catch(e){}r||"function"!=typeof n||n();return r},reportError:(e,t={})=>"object"==typeof h&&ne(h)&&h.Raven.captureException(e,Ae(e,Object.assign({},t,{level:"error"}))),reportWarning:(e,t={})=>"object"==typeof h&&ne(h)&&h.Raven.captureException(e,Ae(e,Object.assign({},t,{level:"warning"}))),getDebug:()=>de,getLang:(e="en-US")=>{if(void 0!==h&&"object"==typeof h.navigator){const e=h.navigator.languages?h.navigator.languages[0]:h.navigator.language;if(e)return e.toLocaleLowerCase()}return e},getTempStorage:_t.getItem,setTempStorage:_t.setItem,logError:(...e)=>{(le||pe||de)&&console.error(...e)},logWarning:(...e)=>{(le||pe||de)&&console.warn(...e)}};const Pt=(e,{data:t})=>fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),Nt=_e("app-api"),Dt="/usage-logging/v1/log/hublytics-multi/no-auth",Ut=e=>$t.reportError(e,{fingerprint:["usage-tracker-js","network"]}),Ht=Ot({clientName:"anonymous",getDebug:$t.getDebug,getLang:$t.getLang,getTempStorage:It.getItem,setTempStorage:It.setItem,logWarning:$t.logWarning,logError:$t.logError,reportWarning:$t.reportWarning,reportError:$t.reportError,getHstc:()=>null,getEmail:()=>null,getHubId:()=>null,send:({events:e,query:t})=>{const n=`${Nt}${Dt}?${t}`,r=()=>{Pt(n,{data:e}).catch(Ut)};$t.sendBeacon(n,e,r)}});var Lt=Ht;const Ct=["omitProperties","scrubProperties"],Wt=["viralSourcePortalId","viralSourceUserId","referrerUrl","referrerParams","currentPageUrl","lastPageUrl"],At=[...Wt,"email","userId","hubId","hstc","utk"],Rt={allowUnauthed:!0,isExternalHost:!me,events:void 0,omitProperties:At,scrubProperties:Wt},qt=(e,t,n)=>new Proxy(t,{get:(t,r)=>"setProperties"===r?e=>t.setProperties(x(e,n)):"track"===r?e.standalone?(e,r,o)=>t.track(e,r,x(o,n)):(e,r)=>t.track(e,x(r,n)):"clone"===r?r=>qt(e,t.clone(r),n):t[r]}),Bt=t=>{const n=E(t||Rt,Rt),{omitProperties:r,scrubProperties:o}=n,a=e(n,Ct),i=x(a.properties,r||At),s=q(o||Wt,null);return qt(a,Lt.createTracker(Object.assign({},a,{properties:Object.assign({},i,s)})),r||At)},Vt=256,Jt='meta[name="laboratory-identifier-other"]',Mt=_e("app"),Kt=(e,t)=>t&&t.getAttribute("role")===e,zt=e=>{const t=Array.from(e.attributes).filter((e=>e.name.startsWith("data-"))).map((e=>`${e.name}=${e.value}`)).slice(0,5);return t.length>0?t:void 0},Gt=e=>{const t=e.id,n=e.tabIndex,r=e.getAttribute("name"),o=e.getAttribute("role");return{id:t,tabIndex:n,classNames:Array.from(e.classList).map((e=>U(e,100))).slice(0,10),name:r,role:o}},Ft=(e,t)=>t.tagName.toLowerCase()===e?t:t.closest(e),Qt=(e,t,n)=>n.tagName.toLowerCase()===e&&Kt(t,n)?n:n.closest(`${e}[role="${t}"]`);var Yt={handleAnchorInteraction:e=>{const t=window.location.pathname,{id:n,tabIndex:r,classNames:o,name:a,role:i}=Gt(e),s=U(e.innerText,Vt),c=U(e.href,Vt),l=zt(e);window.track("hubspot-dot-com","interaction",{screen:t,type:"a",id:n,text:s,tabIndex:r,classNames:o,name:a,href:c,role:i,dataTypes:l})},handleButtonInteraction:e=>{const t=window.location.pathname,{id:n,tabIndex:r,classNames:o,name:a,role:i}=Gt(e),s=U(e.innerText,Vt),c=zt(e);window.track("hubspot-dot-com","interaction",{screen:t,type:"button",id:n,text:s,tabIndex:r,classNames:o,name:a,role:i,dataTypes:c})},handleCustomInteraction:e=>{const t=window.location.pathname,{id:n,tabIndex:r,classNames:o,name:a,role:i}=Gt(e),s=U(e.innerText,Vt),c=zt(e);window.track("hubspot-dot-com","interaction",{screen:t,type:e.tagName.toLowerCase(),id:n,text:s,tabIndex:r,classNames:o,name:a,role:i,dataTypes:c})},handleInputInteraction:e=>{const t=e.target,n=()=>{const e=t.closest("label[for]");return e&&e.innerText?U(e.innerText,Vt):""},r=()=>{const e=t.options[t.selectedIndex];return e&&e.innerText?U(e.innerText,Vt):""},o=window.location.pathname,{id:a,tabIndex:i,classNames:s,name:c,role:l}=Gt(t),p=U(t.placeholder,Vt),u=n(),d=zt(t),g="SELECT"===t.tagName?r():void 0;window.track("hubspot-dot-com","form input interaction",{screen:o,type:t.tagName.toLowerCase(),id:a,tabIndex:i,classNames:s,label:u,name:c,placeholder:p,role:l,dataTypes:d,valueLabel:g})},handleFormSubmitInteraction:e=>{const t=window.location.pathname,{id:n,tabIndex:r,classNames:o,name:a,role:i}=Gt(e),s=e.getAttribute("action"),c=zt(e),l=e.checkValidity(),p=e.querySelectorAll(".hs-input.invalid");window.track("hubspot-dot-com","form interaction",{screen:t,type:"form",action:s,id:n,tabIndex:r,classNames:o,name:a,role:i,dataTypes:c,successful:l&&0===p.length})}};var Xt={iframeInteractions:e=>{if(e&&e.contentWindow){e.contentWindow.document.addEventListener("click",an.interactionEventHandler);e.contentWindow.document.addEventListener("focusout",an.inputInteractionEventHandler)}},mutateAnchorHref:e=>{if(e.href&&e.href.startsWith(Mt)&&window.__utAnonId&&window.__utAnonId.length){const t=new URL(e.href);t.searchParams.set("uuid",window.__utAnonId);e.href=t.toString()}}};var Zt={pageViewHandler:()=>{const e=window.location.pathname;window.track("hubspot-dot-com","pageview",{screen:e})},sectionViewHandler:e=>{const t=window.location.pathname,{id:n,classNames:r}=Gt(e);window.track("hubspot-dot-com","section view",{screen:t,section:n,classNames:r})}};const en=(e,t)=>{const n=(r,o)=>{r.forEach((r=>{r.nodeName.toLowerCase()===e&&t(o,r);r.childNodes.length>0&&n(r.childNodes,o)}))},r=new MutationObserver((e=>{for(const t of e)if("childList"===t.type){n(t.addedNodes,"added");n(t.removedNodes,"removed")}}));r.observe(document.body,{childList:!0,subtree:!0});return r},tn=e=>e.src&&new URL(e.src).origin===window.location.origin,nn=[["a",Yt.handleAnchorInteraction],["button",Yt.handleButtonInteraction]],rn=[["div",["button","tab","checkbox","option"]],["li",["button","tab"]],["span",["button","tab"]]],on=["input","select","textarea"];var an={interactionEventHandler:e=>{const t=e.target;for(const[e,n]of nn){const r=Ft(e,t);if(null!==r)return n(r)}for(const[e,n]of rn)for(const r of n){const n=Qt(e,r,t);if(null!==n)return Yt.handleCustomInteraction(n)}},inputInteractionEventHandler:e=>{const t=e.target;if(on.includes(t.tagName.toLowerCase()))return Yt.handleInputInteraction(e)},formSubmitEventHandler:e=>{const t=e.target;if(t.closest("form"))return Yt.handleFormSubmitInteraction(t.closest("form"))},iframeInteractionEventHandler:()=>{[...document.querySelectorAll("iframe")].filter(tn).forEach(Xt.iframeInteractions);en("iframe",((e,t)=>{"added"===e&&tn(t)&&Xt.iframeInteractions(t)}))},anchorObserveEventHandler:()=>{en("a",((e,t)=>{"added"===e&&t.href&&t.href.length&&Xt.mutateAnchorHref(t)}))},sectionObserverEventHandler:()=>{const e=new IntersectionObserver((t=>{t.filter((e=>e.isIntersecting)).forEach((t=>{e.unobserve(t.target);Zt.sectionViewHandler(t.target)}))}));[...document.querySelectorAll('[data-hs-cos-type="module"]')].filter((e=>e.offsetHeight>1)).forEach((t=>e.observe(t)))}};const sn=()=>{const e=document.querySelector(Jt);return(null==e?void 0:e.getAttribute("content"))||void 0},cn=()=>{const e=sn(),{device_id:t}=Ne(It.getItem,It.setItem,{currentTime:Date.now(),deviceId:e});return t},ln=e=>new URLSearchParams(e.search).get("uuid")||void 0,pn=e=>{try{const t=Te(_t.getItem);t&&t.device_id===e&&_t.removeItem(F)}catch(e){}It.removeItem(F)};var un={init:(e,{history:{location:t},storeUuidOnUrl:n})=>{const r=Bt(e),o=n?ln(t):void 0;r.setProperties({deviceId:o||Tt()});return r},switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if(!0===r){let e=ln(t);(void 0===e||e.length>64)&&(e=Tt());const r=new URLSearchParams(t.search);r.set("uuid",e);n(`${t.pathname}?${r}`)}}},dn=Promise.resolve(null),gn={get:()=>"object"==typeof h&&"object"==typeof h.hubspot&&"object"==typeof h.hubspot.portal&&h.hubspot.portal.id||null};const mn=gn.get(),hn=_e("app"),fn="/login-verify/hub-user-info",yn={user:{email:null},portal:{portal_id:null}};var bn=()=>fetch(`${hn}${fn}${mn?`?portalId=${mn}`:""}`,{headers:{Accept:"application/json"}}).then((e=>e.json())).catch((()=>yn));const vn=(e=!0)=>bn({ignoreRedirect:!0,cached:e}).then((({portal:e})=>e.portal_id)).catch((()=>null)),wn=()=>Promise.resolve(dn.Info).then(dn).catch($t.getLang),On=$(((e=!0)=>bn({ignoreRedirect:!0,cached:e}).then((({user:e})=>e.email)).catch((()=>null)))),kn=$(vn),En=$(wn),In=_e("app-api"),_n="/usage-logging/v1/log/hublytics-multi/no-auth",Sn=e=>$t.reportError(e,{fingerprint:["usage-tracker-js","network"]}),jn=Ot({clientName:"app",getDebug:$t.getDebug,getHstc:$t.getHstc,getTempStorage:$t.getTempStorage,setTempStorage:$t.setTempStorage,logWarning:$t.logWarning,logError:$t.logError,reportWarning:$t.reportWarning,reportError:$t.reportError,getEmail:On,getHubId:kn,getLang:En,send:({events:e,query:t})=>{const n=`${In}${_n}?${t}`,r=()=>{Pt(n,{data:e}).catch(Sn)};$t.sendBeacon(n,e,r)}});const xn=jn.createTracker;var Tn={init:e=>xn(e),switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if((void 0===e||"anonymous"===e)&&!0===r){const e=new URLSearchParams(t.search),r=ln(t);if(void 0!==r){pn(r);e.delete("uuid");n(`${t.pathname}?${e}`)}}}};const $n=(e=2e3)=>new Promise((t=>{let n=0,r=0;const o=()=>{const e=$t.getHstc();if(e){clearTimeout(r);clearInterval(n);t(e)}};n=setInterval(o,100);r=setTimeout((()=>{clearInterval(n);t(void 0)}),e);o()})),Pn=_e("app-api"),Nn="/usage-logging/v1/log/hublytics-multi/no-auth",Dn=e=>$t.reportError(e,{fingerprint:["usage-tracker-js","network"]}),Un=Ot({clientName:"public",getDebug:$t.getDebug,getLang:$t.getLang,getTempStorage:$t.getTempStorage,setTempStorage:$t.setTempStorage,logWarning:$t.logWarning,logError:$t.logError,reportWarning:$t.reportWarning,reportError:$t.reportError,getHstc:$n,getEmail:()=>null,getHubId:()=>null,send:({events:e,query:t})=>{const n=`${Pn}${Nn}?${t}`,r=()=>{Pt(n,{data:e}).catch(Dn)};$t.sendBeacon(n,e,r)}});var Hn=Un;const Ln={allowUnauthed:!0,isExternalHost:!me,events:void 0},Cn=e=>{const t=E(e||Ln,Ln);return Hn.createTracker(t)};const Wn={anonymous:un,authed:Tn,public:{init:e=>Cn(e),switch:(e,{history:{location:t,replace:n},storeUuidOnUrl:r})=>{if((void 0===e||"anonymous"===e)&&!0===r){const e=new URLSearchParams(t.search),r=ln(t);if(void 0!==r){pn(r);e.delete("uuid");n(`${t.pathname}?${e}`)}}}}},An=["trackerType","onBeforeSwitch"],Rn={history:(()=>{const e="object"==typeof h&&"object"==typeof h.history,t=()=>e&&h.history.state&&h.history.state.state||{};return{get location(){return e?{pathname:h.location.pathname,search:h.location.search,hash:h.location.hash,state:t(),key:t().key||""}:{pathname:"",search:"",hash:"",state:t(),key:t().key||""}},replace:(t,n={})=>{e&&h.history.replaceState(Object.assign({},n),"","string"==typeof t?`${h.location.origin}${t}`:t.toString())},push:(t,n={})=>{e&&h.history.pushState(Object.assign({},n),"","string"==typeof t?`${h.location.origin}${t}`:t.toString())}}})(),storeUuidOnUrl:!0},qn=(t={})=>{let n;const r={trackerType:"public",events:void 0,onBeforeSwitch:()=>null},{history:o,storeUuidOnUrl:a}=E(t||{},Rn);return{createTracker:t=>{const i=E(t||{},r),{trackerType:s,onBeforeSwitch:c}=i,l=e(i,An),p=Wn[s];n!==s&&y(c)({from:n,to:s});p.switch(n,{history:o,storeUuidOnUrl:a});const u=p.init(l,{history:o,storeUuidOnUrl:a});n=s;return u}}},Bn=()=>Boolean(gn.get()),Vn=e=>Bn()?"authed":e&&e.length?"public":"anonymous",Jn=e=>setInterval((()=>e(jt())),200),Mn=()=>{if("function"==typeof(null==h?void 0:h.createTracker))return;const e=qn({storeUuidOnUrl:!1}),t={trackers:new Map,type:Vn($t.getHstc())},n=n=>{if(n.trackerName&&n.trackerName.length){const{track:r}=e.createTracker(Object.assign({},n,{events:n.events||{},trackerType:t.type,standalone:!0}));t.trackers.set(n.trackerName,{config:n,instance:r});return{track:(...e)=>t.trackers.get(n.trackerName).instance(...e)}}throw new Error('"createTracker" requires a "trackerName" property')};Jn((e=>{const n=Vn(e);if(n!==t.type){t.type=n;t.trackers.forEach((({config:e})=>{h.createTracker(e)}))}}));"object"==typeof h&&(h.createTracker=n)};Mn(),n(1);(e=>{const{track:t}=globalThis.createTracker(Object.assign({events:{}},e));globalThis.track=t;globalThis.trackWhenAuthed=t})({trackerName:"hubspot-dot-com",properties:{hstc:xt},omitProperties:[...Wt,"email","userId","hubId"],onBeforeSwitch:({to:e})=>{window.__utAnonId="anonymous"===e?cn():Tt();document.querySelectorAll("a").forEach(Xt.mutateAnchorHref)}});Zt.pageViewHandler();document.addEventListener("click",an.interactionEventHandler);document.addEventListener("focusout",an.inputInteractionEventHandler,{passive:!0});document.addEventListener("submit",an.formSubmitEventHandler);an.anchorObserveEventHandler();an.iframeInteractionEventHandler();an.sectionObserverEventHandler()}()}();